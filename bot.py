import telebot import subprocess import os # Yahan apna token na likhein, niche wala method secure hai API_TOKEN = os.getenv('BOT_TOKEN') bot = telebot.TeleBot(API_TOKEN) @bot.message_handler(commands=['start']) def send_welcome(message): bot.reply_to(message, "Hi! Pinterest link bhejo, main HD mein download kar dunga.") @bot.message_handler(func=lambda message: 'pin.it' in message.text or 'pinterest.com' in message.text) def download_pin(message): url = message.text msg = bot.reply_to(message, "Downloading HD Media... ‚è≥") try: # yt-dlp se HD link nikalna cmd = f"yt-dlp -g {url}" hd_link = subprocess.check_output(cmd, shell=True).decode('utf-8').strip() if ".mp4" in hd_link: bot.send_video(message.chat.id, hd_link) else: bot.send_photo(message.chat.id, hd_link) bot.delete_message(message.chat.id, msg.message_id) except Exception as e: bot.edit_message_text(f"Error: Link nahi mil paya. {str(e)}", message.chat.id, msg.message_id) bot.polling()
